<mvc:View controllerName="zov.controller.View1"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:core="sap.ui.core"
    xmlns:t="sap.ui.table"
    xmlns:fb="sap.ui.comp.filterbar"
    xmlns="sap.m">
    <Page 
        id="page" 
        title="{i18n>title}" 
        showNavButton="true" 
        navButtonPress="onNavBack">
        <mvc:XMLView viewName="zov.view.NavBarView"/>

        <VBox class="sapUiSmallMargin">
            <fb:FilterBar id="filterBar1" reset="onFilterReset" search="onFilterSearch">
                <fb:filterItems>
                    <fb:FilterItem name="OrdemId" label="{i18n>orderId}">
                        <fb:control>
                            <Input value="{filter>/OrdemId}"/>
                        </fb:control>
                    </fb:FilterItem>

                    <fb:FilterItem name="ClienteId" label="{i18n>clientId}">
                        <fb:control>
                            <Input value="{filter>/ClienteId}"/>
                        </fb:control>
                    </fb:FilterItem>

                    <fb:FilterItem name="OrdencaoCampo" label="{i18n>sortField}">
                        <fb:control>
                            <Select selectedKey="{filter>/OrdenacaoCampo}">
                            <items>
                                <core:Item text="{i18n>orderId}" key="OrdemId" />
                                <core:Item text="{i18n>clientId}" key="ClienteId" />
                                <core:Item text="{i18n>creationDate}" key="DataCriacao" />
                                <core:Item text="{i18n>createdBy}" key="CriadoPor" />
                                <core:Item text="{i18n>totalItems}" key="TotalItens" />
                                <core:Item text="{i18n>totalFreight}" key="TotalFrete" />
                                <core:Item text="{i18n>totalOrder}" key="TotalOrdem" />
                                <core:Item text="{i18n>orderStatus}" key="Status" />
                            </items>
                            </Select>
                        </fb:control>
                    </fb:FilterItem>

                    <fb:FilterItem name="OrdenacaoTipo" label="{i18n>sortType}">
                        <fb:control>
                            <Select selectedKey="{filter>/OrdenacaoTipo}">
                                <items>
                                    <core:Item text="{i18n>asc}" key="ASC" />
                                    <core:Item text="{i18n>desc}" key="DESC" />
                                </items>
                            </Select>
                        </fb:control>
                    </fb:FilterItem>
                </fb:filterItems>
            </fb:FilterBar>
        </VBox>

        <t:Table 
            id="table"
            rows="{/OVCabSet}"
            selectionMode="MultiToggle"
            alternateRowColors="true"
            threshold="10"
            rowMode="Fixed"
            class="sapUiSmallMargin"
        >
            <t:extension>
                <OverflowToolbar style="Standard">
                    <Title id="tittle" text="{i18n>title}" />
                </OverflowToolbar>
            </t:extension>
            
            <t:columns>
                <t:Column width="6rem">
                    <Label text="{i18n>orderId}" />
                    <t:template>
                        <Text text="{OrdemId}" wrapping="false" />
                    </t:template>
                </t:Column>
                
                <t:Column>
                    <Label text="{i18n>creationDate}" />
                    <t:template>
                        <Text text="{
                        path: 'DataCriacao',
                        type: 'sap.ui.model.odata.type.Date',
                        formatOptions: {
                                UTC: true,
                                pattern: 'dd/MM/yyyy'
                            }
                        }" 
                        wrapping="false" />
                    </t:template>
                </t:Column>

                <t:Column>
                    <Label text="{i18n>createdBy}"/>
                    <t:template>
                        <Text text="{CriadoPor}" wrapping="false" />
                    </t:template>
                </t:Column>

                <t:Column>
                    <Label text="{i18n>clientId}"/>
                    <t:template>
                        <Text text="{ClienteId}" wrapping="false" />
                    </t:template>
                </t:Column>

                <t:Column>
                    <Label text="{i18n>totalItems}"/>
                    <t:template>
                        <Text text="{TotalItens}" wrapping="false" />
                    </t:template>
                </t:Column>

                <t:Column>
                    <Label text="{i18n>totalFreight}"/>
                    <t:template>
                        <Text text="{TotalFrete}" wrapping="false"/>
                    </t:template>
                </t:Column>

                <t:Column>
                    <Label text="{i18n>totalOrder}" />
                    <t:template>
                        <Text text="{TotalOrdem}" wrapping="false"/>
                    </t:template>
                </t:Column>

                <t:Column>
                    <Label text="{i18n>orderStatus}" />
                    <t:template>
                        <Text text="{Status}" wrapping="false"/>
                    </t:template>
                </t:Column>
            </t:columns>
        </t:Table>
    </Page>
</mvc:View>